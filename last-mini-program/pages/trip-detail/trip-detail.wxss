/* 全局设定 */
.trip-detail-page {
  min-height: 100vh;
  background-color: #F5F6F8;
  position: relative;
  font-family: -apple-system, sans-serif;
}

.loading-state {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
  color: #94a3b8;
  font-size: 28rpx;
}

/* ================= 1. Hero Section ================= */
.hero-section {
  position: relative;
  width: 100%;
  height: 720rpx; /* 360px */
  overflow: hidden;
}

.hero-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 渐变遮罩：从黑透明到页面背景色 */
.hero-gradient {
  position: absolute;
  top: 0; left: 0; right: 0; bottom: 0;
  background: linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 50%, #F5F6F8 100%);
}

/* 自定义导航栏 */
.custom-nav {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  z-index: 10;
  height: 88rpx;
}

/* 悬浮天气组件 */
.weather-widget {
  position: absolute;
  top: 200rpx; /* 根据导航栏高度调整 */
  right: 32rpx;
  width: 160rpx;
  padding: 24rpx;
  border-radius: 32rpx;
  display: flex;
  flex-direction: column;
  align-items: center;
  color: white;
  z-index: 10;
}

/* 玻璃拟态特效 */
.glass-effect {
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  box-shadow: 0 8rpx 32rpx rgba(0, 0, 0, 0.1);
}

.weather-icon-wrap { 
  margin-bottom: 8rpx; 
  width: 48rpx;
  height: 48rpx;
}

.weather-icon-img {
  width: 48rpx;
  height: 48rpx;
}

.weather-temp { 
  font-size: 40rpx; 
  font-weight: 800; 
  line-height: 1; 
}

.weather-desc { 
  font-size: 20rpx; 
  opacity: 0.9; 
  margin-bottom: 8rpx; 
}

.weather-line { 
  width: 100%; 
  height: 1px; 
  background: rgba(255,255,255,0.3); 
  margin: 8rpx 0; 
}

.weather-sub { 
  font-size: 18rpx; 
  opacity: 0.8; 
  display: flex; 
  align-items: center; 
  gap: 4rpx; 
}

/* Hero 底部内容 */
.hero-content {
  position: absolute;
  bottom: 40rpx;
  left: 32rpx;
  right: 32rpx;
  z-index: 5;
}

.hero-tags {
  display: flex;
  gap: 16rpx;
  margin-bottom: 16rpx;
}

.tag-glass {
  background: rgba(255, 255, 255, 0.2);
  backdrop-filter: blur(10px);
  padding: 8rpx 20rpx;
  border-radius: 100rpx;
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  font-size: 20rpx;
  font-weight: 700;
  display: flex;
  align-items: center;
  gap: 8rpx;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.tag-blue {
  background: rgba(14, 165, 233, 0.9); /* Sky Blue */
  padding: 8rpx 20rpx;
  border-radius: 100rpx;
  color: white;
  font-size: 20rpx;
  font-weight: 700;
  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.2);
}

.hero-title-row {
  display: flex;
  align-items: center;
  gap: 16rpx;
  margin-bottom: 8rpx;
}

.hero-title {
  font-size: 56rpx;
  font-weight: 900;
  color: #1e293b; /* 深蓝黑 */
  line-height: 1.1;
  text-shadow: 0 2rpx 4rpx rgba(255,255,255,0.5); /* 增加一点对比度 */
}

.edit-btn { 
  opacity: 0.6; 
}

.hero-location {
  display: flex;
  align-items: center;
  gap: 8rpx;
  color: #475569;
  font-size: 26rpx;
  font-weight: 600;
}

/* ================= 2. Content Body ================= */
.content-body {
  padding: 0 32rpx;
  display: flex;
  flex-direction: column;
  gap: 24rpx;
  margin-top: -20rpx; /* 稍微向上提一点 */
  position: relative;
  z-index: 6;
}

/* 通用卡片样式 */
.info-card, .date-card, .checklist-card {
  background: white;
  border-radius: 32rpx;
  padding: 32rpx;
  border: 1px solid #f1f5f9;
  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.03);
}

/* A. 行程详情 */
.card-header-simple {
  display: flex;
  align-items: center;
  gap: 16rpx;
  margin-bottom: 24rpx;
  padding-bottom: 24rpx;
  border-bottom: 1rpx solid #f8fafc;
}

.icon-box-gray {
  background: #f1f5f9;
  padding: 12rpx;
  border-radius: 16rpx;
}

.header-title {
  font-size: 26rpx;
  font-weight: 700;
  color: #1e293b;
  text-transform: uppercase;
  letter-spacing: 2rpx;
}

.detail-text {
  font-size: 28rpx;
  color: #475569;
  line-height: 1.8;
}

/* B. 重要备注 (黄色便利贴) */
.note-card {
  background: #fffbeb; /* Amber 50 */
  border: 1px solid #fef3c7;
  border-radius: 32rpx;
  padding: 40rpx;
  position: relative;
  overflow: hidden;
}

.note-bg-icon {
  position: absolute;
  top: -10rpx; right: -10rpx;
  opacity: 0.1;
  transform: rotate(12deg);
}

.note-header {
  display: flex;
  align-items: center;
  gap: 8rpx;
  margin-bottom: 16rpx;
  position: relative;
  z-index: 1;
  color: #92400e; /* Amber 800 */
  font-size: 24rpx;
  font-weight: 700;
  text-transform: uppercase;
}

.note-text {
  font-size: 28rpx;
  color: #78350f; /* Amber 900 */
  line-height: 1.6;
  position: relative;
  z-index: 1;
}

/* C. 日期卡片 */
.date-card {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 32rpx 40rpx;
}

.date-left {
  display: flex;
  align-items: center;
  gap: 24rpx;
}

.icon-box-blue {
  background: #eff6ff;
  color: #3b82f6;
  padding: 16rpx;
  border-radius: 16rpx;
}

.label-xs { 
  font-size: 22rpx; 
  color: #94a3b8; 
  font-weight: 700; 
  margin-bottom: 4rpx; 
}

.value-md { 
  font-size: 28rpx; 
  color: #1e293b; 
  font-weight: 700;
}

.value-lg { 
  font-size: 40rpx; 
  color: #0f172a; 
  font-weight: 900; 
}

.align-right { 
  text-align: right; 
}

/* D. 物品清单 (Accordion) */
.checklist-card { 
  padding: 0; 
  overflow: hidden; 
}

.checklist-header {
  padding: 32rpx;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: white;
  transition: background 0.2s;
}

.checklist-header:active { 
  background: #f8fafc; 
}

.header-left { 
  display: flex; 
  align-items: center; 
  gap: 16rpx; 
}

.header-lg { 
  font-size: 32rpx; 
  font-weight: 900; 
  color: #1e293b; 
}

.count-badge { 
  background: #f1f5f9; 
  padding: 4rpx 16rpx; 
  border-radius: 100rpx; 
  font-size: 22rpx; 
  font-weight: 700; 
  color: #94a3b8; 
}

.header-right { 
  display: flex;
  align-items: center;
  gap: 24rpx; 
}

.progress-info { 
  text-align: right; 
}

.percent-val { 
  font-size: 28rpx; 
  font-weight: 900; 
  color: #0ea5e9; 
  display: block; 
}

/* 展开后的样式 */
.checklist-body { 
  padding: 0 32rpx 32rpx; 
}

.progress-track {
  height: 12rpx;
  background: #f1f5f9;
  border-radius: 100rpx;
  margin-bottom: 32rpx;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #38bdf8 0%, #3b82f6 100%);
  border-radius: 100rpx;
  transition: width 0.5s ease;
}

.checklist-items { 
  display: flex; 
  flex-direction: column; 
  gap: 16rpx; 
}

.check-item {
  padding: 24rpx 32rpx;
  border-radius: 20rpx;
  background: #f8fafc;
  border: 1px solid #f1f5f9;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.2s;
}

.check-item.is-checked {
  background: #f0fdf4; /* Green 50 */
  border-color: #dcfce7;
}

.item-name {
  font-size: 28rpx;
  font-weight: 600;
  color: #0ea5e9; /* Sky blue for unchecked */
}

.check-item.is-checked .item-name {
  color: #059669; /* Emerald for checked */
}

.item-status {
  font-size: 22rpx;
  font-weight: 700;
  color: transparent; /* 默认隐藏文字，或者用浅色 */
}

.check-item.is-checked .item-status {
  color: #94a3b8;
}

.empty-tip {
  text-align: center;
  padding: 48rpx;
  color: #94a3b8;
  font-size: 24rpx;
}

/* ================= 3. Floating Island ================= */
.floating-island {
  position: fixed;
  bottom: 60rpx;
  left: 50%;
  transform: translateX(-50%);
  width: 92%;
  max-width: 700rpx;
  background: rgba(255, 255, 255, 0.9);
  backdrop-filter: blur(20px);
  padding: 16rpx;
  border-radius: 40rpx;
  border: 1px solid rgba(255,255,255,0.5);
  box-shadow: 0 20rpx 40rpx -10rpx rgba(0,0,0,0.15);
  display: flex;
  gap: 16rpx;
  z-index: 100;
}

.island-btn {
  height: 96rpx;
  border-radius: 32rpx;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12rpx;
  font-weight: 700;
  font-size: 28rpx;
  transition: transform 0.1s;
}

.island-btn:active { 
  transform: scale(0.96); 
}

.btn-back {
  width: 96rpx;
  background: #f8fafc;
  color: #475569;
  border: 1px solid #f1f5f9;
}

.btn-add {
  flex: 1;
  background: #f8fafc;
  color: #475569;
  border: 1px solid #f1f5f9;
}

.btn-start {
  flex: 1.5;
  background: #0f172a;
  color: white;
  box-shadow: 0 8rpx 20rpx rgba(15, 23, 42, 0.2);
}

/* ================= SVG ICONS (Data URI) ================= */
.icon-sun-cloud { 
  width: 48rpx; 
  height: 48rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23fcd34d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 2v2'/%3E%3Cpath d='m4.93 4.93 1.41 1.41'/%3E%3Cpath d='M20 12h2'/%3E%3Cpath d='m19.07 4.93-1.41 1.41'/%3E%3Cpath d='M15.947 12.65a4 4 0 0 0-5.925-4.128'/%3E%3Cpath d='M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z' stroke='%23ffffff'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-droplet { 
  width: 20rpx; 
  height: 20rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-briefcase { 
  width: 24rpx; 
  height: 24rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23ffffff' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Crect width='20' height='14' x='2' y='7' rx='2' ry='2'/%3E%3Cpath d='M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-pin { 
  width: 32rpx; 
  height: 32rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z'/%3E%3Ccircle cx='12' cy='10' r='3'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-edit { 
  width: 32rpx; 
  height: 32rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-notebook { 
  width: 36rpx; 
  height: 36rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M2 6h4'/%3E%3Cpath d='M2 10h4'/%3E%3Cpath d='M2 14h4'/%3E%3Cpath d='M2 18h4'/%3E%3Crect width='16' height='20' x='4' y='2' rx='2'/%3E%3Cpath d='M16 2v20'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-sticky-lg { 
  width: 120rpx; 
  height: 120rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23f59e0b' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z'/%3E%3Cpath d='M15 3v6h6'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-sticky-sm { 
  width: 32rpx; 
  height: 32rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23d97706' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z'/%3E%3Cpath d='M15 3v6h6'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-calendar { 
  width: 36rpx; 
  height: 36rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M8 2v4'/%3E%3Cpath d='M16 2v4'/%3E%3Crect width='18' height='18' x='3' y='4' rx='2'/%3E%3Cpath d='M3 10h18'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-chevron { 
  width: 36rpx; 
  height: 36rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2394a3b8' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
  transition: transform 0.3s; 
}

.icon-chevron.rotate { 
  transform: rotate(180deg); 
}

.icon-chevron-left { 
  width: 40rpx; 
  height: 40rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m15 18-6-6 6-6'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-plus { 
  width: 36rpx; 
  height: 36rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2364748b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M5 12h14'/%3E%3Cpath d='M12 5v14'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

.icon-play { 
  width: 32rpx; 
  height: 32rpx; 
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%23ffffff' stroke='none'%3E%3Cpolygon points='5 3 19 12 5 21 5 3'/%3E%3C/svg%3E"); 
  background-size: contain; 
  background-repeat: no-repeat; 
}

/* 简单动画 */
.animate-slide-up {
  animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) both;
}

@keyframes slideUp {
  from { transform: translateY(40rpx); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

/* 编辑名称弹窗 */
.edit-name-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

.edit-name-dialog {
  background: white;
  border-radius: 32rpx;
  padding: 48rpx;
  width: 80%;
  max-width: 600rpx;
}

.edit-name-title {
  font-size: 32rpx;
  font-weight: 700;
  color: #1e293b;
  margin-bottom: 32rpx;
}

.edit-name-input {
  width: 100%;
  height: 80rpx;
  border: 2rpx solid #e2e8f0;
  border-radius: 16rpx;
  padding: 0 24rpx;
  font-size: 28rpx;
  margin-bottom: 32rpx;
}

.edit-name-actions {
  display: flex;
  gap: 16rpx;
}

.edit-btn-cancel,
.edit-btn-save {
  flex: 1;
  height: 80rpx;
  border-radius: 16rpx;
  font-size: 28rpx;
  font-weight: 700;
  border: none;
}

.edit-btn-cancel {
  background: #f8fafc;
  color: #64748b;
}

.edit-btn-save {
  background: #0ea5e9;
  color: white;
}
